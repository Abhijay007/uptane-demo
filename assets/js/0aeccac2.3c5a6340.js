"use strict";(self.webpackChunkuptane_demo=self.webpackChunkuptane_demo||[]).push([[414],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),l=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return i.createElement(c.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),u=a,m=d["".concat(c,".").concat(u)]||d[u]||h[u]||r;return n?i.createElement(m,o(o({ref:t},p),{},{components:n})):i.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6512:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=n(7462),a=(n(7294),n(3905));const r={id:"uptane-design",title:"Uptane Design",sidebar_label:"Uptane Design"},o=void 0,s={unversionedId:"uptane-design",id:"uptane-design",title:"Uptane Design",description:"Uptane Process",source:"@site/docs/design.md",sourceDirName:".",slug:"/uptane-design",permalink:"/uptane-demo/docs/uptane-design",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/design.md",tags:[],version:"current",frontMatter:{id:"uptane-design",title:"Uptane Design",sidebar_label:"Uptane Design"},sidebar:"tutorialSidebar",previous:{title:"Deployment Best Practices",permalink:"/uptane-demo/docs/deployment/introduction"},next:{title:"faq",permalink:"/uptane-demo/docs/faq"}},c={},l=[{value:"Update Process",id:"update-process",level:2},{value:"The Evolution of Uptane",id:"the-evolution-of-uptane",level:2}],p={toc:l},d="wrapper";function h(e){let{components:t,...r}=e;return(0,a.kt)(d,(0,i.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Uptane Process",src:n(5152).Z,width:"762",height:"425"})),(0,a.kt)("p",null,"Uptane utilizes multiple servers, known as repositories, to provide security through the validation of images before downloading. This diagram illustrates how the checks and balances of this system work. The connected components on the right-hand side of the diagram are on the vehicle, while the components on the left-hand side represent the repositories. The Image repository can be thought of as an unchanging source of information about images. It is the keeper of every image currently deployed by the OEM, along with the metadata files that prove their authenticity. The Director repository knows what software should be distributed to each ECU, given the current state of the repository. Many ECUs do not have clocks and may use an external source to provide a secure source of time."),(0,a.kt)("h2",{id:"update-process"},"Update Process"),(0,a.kt)("p",null,"In the first step of the update process, the ECU sends its vehicle version manifest to the Director repository. The manifest contains signed information about existing images. Using this input, the Director chooses which images should be installed next. The metadata and images are then moved to the ECU, which will run a verification process. The diagram shows a Primary ECU connected to a number of Secondary ECUs. ECUs are generally classified in terms of access to storage space, memory, a power supply, and a direct internet connection. The form of verification that will be run\u2014Full or Partial\u2014is based on the resources of the ECU, as well as its security criticality. If the verification indicates no issues, the images can be downloaded to the ECU, and the vehicle version manifest will be updated."),(0,a.kt)("h2",{id:"the-evolution-of-uptane"},"The Evolution of Uptane"),(0,a.kt)("p",null,"To meet the types of threats enumerated, Uptane started with the basic design of ",(0,a.kt)("a",{parentName:"p",href:"https://theupdateframework.github.io/overview.html"},"The Update Framework (TUF)"),", a flexible framework and specification that has proven successful in securing software update systems on repositories. The basic TUF design was first introduced in a ",(0,a.kt)("a",{parentName:"p",href:"https://ssl.engineering.nyu.edu/papers/samuel_tuf_ccs_2010.pdf"},"2010 paper")," by Justin Samuel, Nick Mathewson, Roger Dingledine, and Justin Cappos. Under the direction of Cappos at NYU Tandon School of Engineering since 2011, TUF has been adapted to protect against threats to various types of software applications."),(0,a.kt)("p",null,"A central tenet of TUF is ",(0,a.kt)("strong",{parentName:"p"},"compromise-resilience"),", or the ability to minimize the extent of the threat posed by any given attack. The building blocks for this state rest on four design principles:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Separation of trust"),": distributing responsibility for the signing of metadata so that if one signing key is compromised, it will not affect other users."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Threshold signatures"),": requiring that a fixed number of signatures must be gathered to attest to the authenticity of a file before the update can be downloaded."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Explicit and implicit revocation of keys"),": providing a mechanism for replacing compromised keys so malevolent parties cannot continue signing metadata to authenticate malware."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Keeping the most vulnerable keys offline"),": mandating that certain signing keys be kept offline, thus making them harder to steal or compromise.")),(0,a.kt)("p",null,"However, researchers realized that they could not directly apply TUF to ECUs. Securing ECUs on vehicles poses challenges due to their inconsistent capabilities and other factors that distinguish them from computers or smart devices:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"They are not single clients."),(0,a.kt)("li",{parentName:"ul"},"They are not particularly smart."),(0,a.kt)("li",{parentName:"ul"},"The individual components do not trust each other.")),(0,a.kt)("p",null,"With these issues in mind, as well as concerns expressed by industry representatives, Uptane modified the basic TUF design in a few ways. The first modification is the addition of a second repository, which divides labor and responsibility for different aspects of the verification process. The ",(0,a.kt)("em",{parentName:"p"},"image")," repository holds an accurate inventory of all the images currently on all ECUs on all vehicles maintained by an OEM, along with the corresponding metadata. This repository uses offline keys to sign all metadata, making it much harder for attackers to substitute compromised images. The ",(0,a.kt)("em",{parentName:"p"},"director")," repository instructs vehicles on what updates should be installed next and uses online keys to sign its metadata, allowing for easier and faster turnarounds. By combining the two repositories, an OEM can provide both customizability and security for the control units on their vehicles."),(0,a.kt)("p",null,"Another modification made to the basic TUF design is how Uptane verifies the images, which are the media used to supply the code and data that control the actions of the ECUs. In the verification step, the ECU determines if a file is safe to download by checking its accompanying metadata. An ECU can use two different verification strategies depending on its power: ",(0,a.kt)("em",{parentName:"p"},"full")," verification and ",(0,a.kt)("em",{parentName:"p"},"partial")," verification. Full verification requires checking that the hashes and sizes of images in the signed metadata match the hashes and sizes stored on the image repository. Partial verification requires only the signature on the targets metadata file from the director repository to be checked."),(0,a.kt)("p",null,"Full verification provides better protection for ECUs with sufficient memory and storage capacity. However, even the weakest ECUs can benefit from the less resource-intensive partial method, improving the overall security of the system."))}h.isMDXComponent=!0},5152:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/Uptane_process-87e54fb58d19d63311d63dd6ac1adbae.png"}}]);